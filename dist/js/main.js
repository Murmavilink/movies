(()=>{"use strict";(()=>{const e="https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=TOP_100_POPULAR_FILMS&page=1",n=document.querySelector("form");document.querySelector(".header__search"),n.addEventListener("input",(n=>{n.preventDefault(),console.log(n.target),""===n.target.value?i(e):i("https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword="+n.target.value)}));const i=async e=>{console.log("url",e);const n=await fetch(e,{method:"GET",headers:{"X-API-KEY":"aa9207e0-e928-4988-878f-a6ef9e404c47","Content-Type":"application/json"}}),i=await n.json();a(i)},a=e=>{const n=document.querySelector(".movies");n.innerHTML="",e.films.forEach((e=>{var i;n.insertAdjacentHTML("beforeend",`\n            <div class="movie">\n                <div class="movie__cover-inner">\n                <img src="${e.posterUrlPreview}" class="movie__cover"\n                    alt="${e.nameRu}">\n                <div class="movie__cover--darkened"></div>\n                </div>\n                <div class="movie__info">\n                <div class="movie__title">${e.nameRu}</div>\n                <div class="movie__category">\n                ${e.genres.map((e=>e.genre)).join(", ")}\n                </div>\n            \n                <div class="movie__average movie__average--${i=e.rating,i>=7?"green":i>5?"orange":"red"}">\n                ${e.rating}\n                </div>\n   \n                </div>\n            </div>`)}))};i(e)})()})();